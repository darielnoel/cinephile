define(["jquery","jquerySerialize","jqueyStarRating","underscore","backbone","models/movie/MovieModel","text!templates/movies/movieDetailTemplate.html","text!templates/movies/movieDetailActorsListTemplate.html"],function(a,b,c,d,e,f,g,h){var i=e.View.extend({el:a("#movie-detail"),events:{"click .cancel":"cancelItem"},model:{},initialize:function(a){var b=this;b.moviesCollection=a.moviesCollection,b.actorsCollection=a.actorsCollection,b.router=a.router},render:function(a){var b,c=this,e=a.id;c.moviesCollection.fetch(),e&&(b=c.moviesCollection.get(e),c.model=b,c.model.fetch({success:function(a){var b,e=d.template(g,{data:a}),f=c.$el,i=[];f.html(e);var j=f.find(".rating");j.rating(),j.on("rating.change",function(a,b){c.model.setRating(b),c.model.save(),j.rating("update",c.model.get("rating"))}),c.actorsCollection.fetch(),d.each(c.model.get("actorCollection"),function(a){i.push(c.actorsCollection.get(a))}),b=d.template(h,{data:i}),f.find(".movie-actor-list").html(b)}})),c.show()},cancelItem:function(){this.router.navigate("movies",{trigger:!0})},hide:function(){this.$el.hide()},show:function(){this.$el.show()}});return i});