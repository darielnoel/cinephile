define(["jquery","underscore","backbone","collections/movies/MoviesCollection","collections/actors/ActorsCollection","views/movies/RecentMoviesView","views/movies/MoviesListView","views/movies/MovieEditView","views/movies/MovieDetailView","views/actors/ActorsListView","views/actors/ActorEditView","views/actors/ActorDetailView","views/app/AppSearchBoxView","views/search/SearchMoviesView","views/search/SearchActorsView"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p={Router:{},Views:{RecentMoviesView:f,MoviesListView:g,MovieEditView:h,MovieDetailView:i,ActorsListView:j,ActorEditView:k,ActorDetailView:l,SearchMoviesView:n,SearchActorsView:o},Config:{},Instances:{views:{}}};p.Router=c.Router.extend({routes:{"":"homeAction",movies:"moviesAction","movies/edit/:id":"moviesEditAction","movies/new":"moviesNewAction","movies/detail/:id":"moviesDetailAction",actors:"actorsAction","actors/edit/:id":"actorsEditAction","actors/new":"actorsNewAction","actors/detail/:id":"actorsDetailAction","search/:query":"searchAction"}});var q=function(){var a=new p.Router,b=new d,f=new e;p.Instances.views.AppSearchBoxView=new m({router:a}),p.Instances.views.AppSearchBoxView.render(),a.on("route:homeAction",function(){r("RecentMoviesView",{moviesCollection:b})}),a.on("route:moviesAction",function(){r("MoviesListView",{moviesCollection:b,actorsCollection:f})}),a.on("route:moviesEditAction",function(c){r("MovieEditView",{id:c,moviesCollection:b,actorsCollection:f,router:a})}),a.on("route:moviesNewAction",function(){r("MovieEditView",{moviesCollection:b,actorsCollection:f,router:a})}),a.on("route:moviesDetailAction",function(c){r("MovieDetailView",{id:c,moviesCollection:b,actorsCollection:f,router:a})}),a.on("route:actorsAction",function(){r("ActorsListView",{actorsCollection:f})}),a.on("route:actorsEditAction",function(c){r("ActorEditView",{id:c,moviesCollection:b,actorsCollection:f,router:a})}),a.on("route:actorsNewAction",function(){r("ActorEditView",{moviesCollection:b,actorsCollection:f,router:a})}),a.on("route:actorsDetailAction",function(c){r("ActorDetailView",{id:c,moviesCollection:b,actorsCollection:f,router:a})}),a.on("route:searchAction",function(c){var d=c.split("&"),e=d[0];query=d[1],openViewID="SearchMoviesView","actors"===e&&(openViewID="SearchActorsView"),r(openViewID,{query:query,moviesCollection:b,actorsCollection:f,router:a}),p.Instances.views.AppSearchBoxView.syncUI({query:query,selected:e})}),c.history.start()},r=function(a,c){var d=p.Instances.views;d[a]||(d[a]=new p.Views[a](c)),b.each(d,function(b,c){c!==a&&"AppSearchBoxView"!==c&&b.hide()}),d[a].render(c)};return{initialize:q}});